<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ñ‡∏≥‡∏Ç‡∏≠</title>
  <link rel="stylesheet" href="css/style.css">
  <script src="js/svr-api.js"></script>
</head>
<body>
  <h2>üîç ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ñ‡∏≥‡∏Ç‡∏≠</h2>
  <input type="text" id="svrId" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™ SVR_ID">
  <button onclick="checkStatus()">‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö</button>
  <div id="result"></div>
  <script>
    async function checkStatus() {
      const svrId = document.getElementById('svrId').value;
      const res = await getApproveData(svrId);
      if (res.found) {
        document.getElementById('result').innerHTML = `
          <p><strong>‡∏ä‡∏∑‡πà‡∏≠:</strong> ${res.requester}</p>
          <p><strong>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:</strong> ${res.approveStatus || '‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥'}</p>
          ${res.reasonReject ? `<p><strong>‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•:</strong> ${res.reasonReject}</p>` : ''}
          ${res.pdf2 ? `<p><a href="${res.pdf2}" target="_blank">üìÑ ‡πÄ‡∏õ‡∏¥‡∏î PDF</a></p>` : ''}
        `;
      } else {
        document.getElementById('result').innerText = '‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ñ‡∏≥‡∏Ç‡∏≠';
      }
    }
  </script>
</body>
</html>
